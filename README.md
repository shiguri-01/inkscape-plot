# Igraph

グラフを描画するInkscapeエクステンションです。

- **Excelからコピペ可能**：グラフの元データをExcelから直接貼り付けられます。
- **対数グラフに対応**：片対数・両対数どちらも作成できます。
- **自由に編集できる**：Inkscapeで動作するので、描画したグラフを直接編集できます。あとから近似曲線や凡例を追加するのも簡単です。

## インストール

動作確認済みバージョン：Inkscape 1.4.2

1. このリポジトリをダウンロード（またはclone）します。
2. Inkscapeのメニューから**編集 > 環境設定 > システム**を開き、**ユーザーエクステンション**のパスを確認します。
3. ダウンロードしたフォルダを手順2で確認したフォルダに移動させます。
4. Inkscapeを再起動します。

## 使い方

Inkscapeのメニューから**エクステンション > レンダリング > Igraph**を選択します。

### 基本

1. **データ**タブに、タブ区切りで数値を入力します。
   - `#`で始まる行はコメントとして無視されます。
   - Excelからそのままコピペできます。
2. **x軸**・**y軸**タブで、軸の範囲と目盛りの間隔を設定します。
   - 線形スケールと対数スケールを選択できます。
3. **プロット**タブで、データのどの列をx・yに使うか指定し、マーカーの形を選びます。
4. **タイトル・外枠**タブで、グラフのタイトルや枠線のスタイルを設定します。
5. ダイアログ下部の**描画する項目**で、何を描くか選択します（デフォルトは全てオン）。
6. **適用**ボタンをクリックするとグラフが描画されます。

### 応用：複数の系列を重ねる

このエクステンションでは1度の実行で1つの系列しか描画できませんが、
複数回実行してグラフを重ね描きすることで、複数系列のグラフに対応できます。

**データ**：

```
# 時間  温度  湿度
1      20    60
2      22    58
3      24    55
```

1. **温度のグラフを描く**
   - データタブ：上記データを入力
   - x軸タブ：最小値=1, 最大値=3
   - y軸タブ：最小値=0, 最大値=30（温度の範囲）
   - プロットタブ：x列=1, y列=2
   - 描画する項目：すべてにチェック

2. **湿度を追加**
   - データタブ：（さっきと同じ）
   - x軸タブ：（さっきと同じ）
   - y軸タブ：最小値=0, 最大値=100（湿度の範囲）, 配置/外側へのオフセット(px)=90
   - プロットタブ：x列=1, y列=3
   - 描画する項目：「y軸」と「プロット」だけにチェック

## Contributing

改善案があったりバグを見つけたりした場合は、気軽にプルリクエストやイシューを送ってください。

### 開発環境

```bash
uv sync
uv run ruff check .  # リンティング
uv run ruff format . # フォーマット
```

> [!NOTE]
> uvで作成される実行環境と、実際に拡張機能を動かす実行環境は異なります。
> そのため、外部パッケージの依存を追加することはできません。
> 動作確認は、必ずInkscapeで拡張機能を実際に使っておこなってください。

---

© 2025 shiguri | [MIT License](LICENSE)
